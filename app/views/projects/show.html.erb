<div class="container">
  <h1><%= @project.name %></h1>
  <p>Un projet de <strong><%= @project.charity.name %></strong></p>
  <p><%= @project.description %></p>
  <p class="btn btn-warning"><%= @project.status %></p>
  <% if current_user && @project.status = "on going" && @volunteers.include?(current_user)  %>
    <p><%= link_to "Accéder au tableau de bord du projet", project_dashboard_path(@project) %></p>
  <% end %>


  <hr>
  <h2>L'équipe</h2>

  <ul class="d-flex">
    <% @project.commitments.each do |commitment| %>

      <li class="d-inline">

        <% if commitment.user %>
          <div class="avatar-container">
            <div class="full-avatar">
              <%= cl_image_tag commitment.user.image, crop: :fill, width: 100, gravity: :auto, radius: "max", aspect_ratio: "1:1", class:"avatar-big"%>
              <span>
                hello
              </span>
            </div>
          </div>

        <% elsif !current_user %>

        <%= simple_form_for(commitment) do |f| %>
            <%= f.input :user_id, as: :hidden, input_html: {value: current_user.id} %>

            <div type="submit" class="reset-css">
              <div class="avatar-container">
                <div class="empty-avatar">
                  <span class="empty-avatar-text">
                    <%= commitment.skill.name %>
                  </span>
                </div>
              </div>
            </div>

          <% end %>

        <% else commitment.user.nil? %>

          <%= simple_form_for(commitment) do |f| %>
            <%= f.input :user_id, as: :hidden, input_html: {value: current_user.id} %>

            <div type="submit" class="reset-css">
              <div class="avatar-container">
                <div class="empty-avatar">
                  <span class="empty-avatar-text">
                    <%= commitment.skill.name %>
                  </span>
                </div>
              </div>
            </div>

          <% end %>

        <% end %>
     </li>
    <% end %>
  </ul>

  <svg viewBox="0 0 361 329" class="current-resident-card"></svg>
  <path fill="#C2E1BB" fill-rule="evenodd" d="M327.775 185.887c-100.942 116.027-98.05 152.438-194.445 140.61-96.395-11.828-62.76-60.837-118.302-170.13C-40.514 47.076 76.749-9.384 173.144 2.445 269.54 14.272 428.718 69.86 327.775 185.887z"></path>
</div>
